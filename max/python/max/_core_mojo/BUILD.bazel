load("//bazel:api.bzl", "modular_py_library", "mojo_shared_library", "requirement")

package(default_visibility = ["//max:consumers"])

mojo_shared_library(
    name = "mojo_module",
    srcs = ["mojo_module.mojo"],
    shared_lib_name = "mojo_module.so",
    deps = [
        "@mojo//:std",
    ],
)

modular_py_library(
    name = "_core_mojo",
    srcs = glob(["**/*.py"]),
    data = [
        ":mojo_module",
    ],
    deps = [
        requirement("numpy"),
        "@mojo//:python",
    ],
)
