// RUN: modular-api-executor --model-inputs=zeros --num-threads=0 --result-output-style=full %s | FileCheck %s --check-prefix=CHECK-DEFAULT
// RUN: mojo package %S/../../Inputs/test_user_op -o %t.mojopkg
// RUN: modular-api-executor --model-inputs=zeros --num-threads=0 --result-output-style=full --kernel-library-paths=%t.mojopkg %s | FileCheck %s --check-prefix=CHECK-WITH-CUSTOM-OPS

mo.graph @test(%arg0: !mo.tensor<[1], f32>) -> (!mo.tensor<[1], f32>) attributes {argument_names = ["input0"], result_names = ["output"]} {
  %0 = mo.sqrt(%arg0): !mo.tensor<[1], f32>
  mo.output %0 : !mo.tensor<[1], f32>
}

// CHECK-DEFAULT: tensor<1xf32>
// CHECK-DEFAULT-NOT: My sqrt

// CHECK-WITH-CUSTOM-OPS: My sqrt
// CHECK-WITH-CUSTOM-OPS: tensor<1xf32>
