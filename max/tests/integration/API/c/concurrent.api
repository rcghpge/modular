// REQUIRES: MODEL
// RUN: python3 -m %modeltool download --format tensorflow-savedmodel %modelsdir/resnet50-v1.5.yaml --weights-dir %concurrent_api_models_dir
// RUN: c-api-validator --paths=%concurrent_api_models_dir/resnet50-v1.5 --input-shapes=1x224x224x3  --input-names=input --threaded --num-initialized=20 --num-sequential-requests=2 | FileCheck %s

// We expect 40 executions.

// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
// CHECK: {{[0-9]+}}: Output: [9.49{{.*}}, 9.10{{.*}} ... 1.29{{.*}}, 7.53{{.*}}]
